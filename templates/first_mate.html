<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>First Mate – Captain Sonar</title>
  <link rel="stylesheet" href="/static/css/base.css"/>
  <link rel="stylesheet" href="/static/css/first_mate.css"/>
</head>
<body class="role-first_mate team-{{ team }}">
<div id="charge-overlay" class="lock-overlay hidden">
  <p>Waiting for captain to move…</p>
</div>
<div id="result-toast" class="result-toast hidden"></div>

<div class="app-layout">
  <div class="ctrl-panel full-width">
    <div class="role-header team-{{ team }}">
      <span class="role-title">⚙ FIRST MATE</span>
      <span class="team-badge">{{ team | upper }} TEAM</span>
    </div>

    <!-- Health -->
    <div class="panel-section two-col">
      <div>
        <div class="section-label">OWN HEALTH</div>
        <div class="health-row" id="own-health"></div>
      </div>
      <div>
        <div class="section-label">ENEMY HEALTH</div>
        <div class="health-row" id="enemy-health"></div>
      </div>
    </div>

    <div class="section-label" style="margin:.8rem 1rem .4rem">
      CHARGE A SYSTEM — click one per turn after captain moves
    </div>

    <!-- Systems -->
    <div class="systems-panel" id="systems-panel">
      <!-- Injected by JS -->
    </div>

    <!-- Event log -->
    <div class="panel-section">
      <div class="section-label">EVENT LOG</div>
      <div class="event-log" id="event-log"></div>
    </div>
  </div>
</div>

<script>
  const GAME_ID  = "{{ game_id }}";
  const MY_NAME  = "{{ player_name }}";
  const MY_TEAM  = "{{ team }}";
</script>
<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<script src="/static/js/first_mate.js"></script>
</body>
</html>
